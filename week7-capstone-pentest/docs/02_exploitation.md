# Day 2 – Service Exploitation

## Objective
Enumerate and exploit vulnerable services discovered during reconnaissance to gain an initial foothold on the target.

---

## Service Enumeration
From the Day 1 Nmap results, the following services of interest were identified:

- **FTP (21/tcp)** – Not accessible (connection refused).
- **ProFTPD (21/tcp, via service fingerprint)** – Supports the `mod_copy` module.
- **SMB (445/tcp)** – Exposed, but no anonymous shares discovered.
- **NFS (2049/tcp)** – `/var/tmp` was exported with read/write permissions.

---

## Exploitation Path

1. **ProFTPD `mod_copy` Abuse**  
   The `SITE CPFR` and `SITE CPTO` commands were used to copy sensitive files within the server.  
   - Action: Copied `/home/kenobi/.ssh/id_rsa` → `/var/tmp/id_rsa`.

2. **NFS Access**  
   - Mounted the NFS share on the attacker machine:  
     ```bash
     sudo mount -t nfs <TARGET_IP>:/var/tmp /mnt/kenobi_nfs
     ```
   - Retrieved the stolen SSH private key from the mounted directory.

3. **SSH Authentication**  
   - Adjusted key permissions locally:  
     ```bash
     chmod 600 id_rsa
     ```
   - Logged into the target as `kenobi`:  
     ```bash
     ssh -i id_rsa kenobi@<TARGET_IP>
     ```

---

## Result
- **Access Gained:** User shell as `kenobi` on the target system.  
- **Impact:** Full compromise of a valid user account through service misconfiguration.  
- **Next Step:** Privilege escalation enumeration (Day 4).

---
